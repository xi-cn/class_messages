<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的班级信息</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/class_info.css') }}">
</head>
<body>

    <script>
        var class_data = {{ class_data | tojson }}
        if (class_data["have_class"]){
            document.write(
                `
    <div class="container">
        <div class="header">
            <h2>Hi! {{username}}你的班级信息如下：</h2>
            <div>
                <h1>班级编号：{{class_data.class_id}}</h1>
                <h1>班级名称：{{class_data.class_name}}</h1>
            </div class='class-info'>
            {% if message %}
            <p style="color: rgb(22, 242, 10);">{{ message }}</p>
            {% endif %}
        </div>
        <div class="content">
            <h2>班级人数: {{ class_data.num_students }}</h2>
            <h3>班级管理员: {{ class_data.admin }}</h3>
            <h3>班级同学:</h3>
            <ul>
                {% for student in class_data.students %}
                <li>{{ student.name }} - {{ student.contact }}</li>
                {% endfor %}
            </ul>
        </div>
        <div class="actions">
            <a href="{{ url_for('return_userinfo',username=username) }}" class="btn">返回主页</a>
            <a href="{{ url_for('out_class',username=username) }}" class="btn">退出班级</a>
            {% if is_admin %}
            <a href="{{ url_for('to_admin_class',username=username) }}" class="btn">管理班级</a>
            {% endif %}
            <a href="{{ url_for('to_invitation',username=username) }}" class="btn">班级邀请</a>
            <a href="{{ url_for('to_search_class',username=username) }}" class="btn">搜索班级</a>
        </div>
    </div>
                `
            )
        }
        else{
            document.write(
                `
    <div class="container">
        <div class="header">
            <h2>Hi! {{username}} 你还没有加入班级哦！</h2>
            <img src="../static/svg/sad.svg" alt="SVG Image" width="100" height="100">
        </div>
        <div class="actions">
            <a href="{{ url_for('return_userinfo',username=username) }}" class="btn">返回主页</a>
            <a href="{{ url_for('to_invitation',username=username) }}" class="btn">班级邀请</a>
            <a href="{{ url_for('to_search_class',username=username) }}" class="btn">搜索班级</a>
        </div>
    </div>
                `
            )
        }
    </script>
</body>

</html>
